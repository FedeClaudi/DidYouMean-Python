language: python
python:
  - "2.7"
  - "pypy"
  - "pypy3"
  - "pypy-5.3.1"

install:
  - pip install --upgrade pep8
  - pip install pep257
  - pip install --upgrade pyflakes
  - pip install unittest2
  - pip install coverage==3.7.1 # https://bitbucket.org/ned/coveragepy/issues/407/coverage-failing-on-python-325-using
  - pip install coveralls
  - pip install codecov

script:
 - if [ "$TRAVIS_PYTHON_VERSION" != "nightly" ]; then coverage run -m unittest2 discover --start-directory=didyoumean --pattern=*.py; fi
 - if [ "$TRAVIS_PYTHON_VERSION" == "nightly" ]; then       python -m unittest2 discover --start-directory=didyoumean --pattern=*.py; fi
 - python didyoumean/readme_examples.py

after_success:
 - coveralls
 - codecov
